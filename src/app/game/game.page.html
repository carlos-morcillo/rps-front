<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button defaultHref="/"></ion-back-button>
		</ion-buttons>
		<ion-title>Juego</ion-title>
		<span slot="end">ROUND {{ game?.roundNumber }} OF {{ game?.numberOrRounds }}</span>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ng-container *ngIf="game?.resultCode; else inProgressTpt">
		<ion-toolbar>
			<ion-title class="ion-text-center">
				<ng-container [ngSwitch]="game.resultCode">
					<ng-container *ngSwitchCase="'VICTORY'">
						YOU_WON!
					</ng-container>
					<ng-container *ngSwitchCase="false">
						YOU_LOST!
					</ng-container>
					<ng-container *ngSwitchDefault>
						TIE!
					</ng-container>
				</ng-container>
			</ion-title>
		</ion-toolbar>
		<ion-list>
			<ion-item *ngFor="let round of game.rounds" [color]="'success'">
				<i class="far fa-2x" [ngClass]="'far fa-hand-' + round.userActionCode | lowercase" slot="start"></i>
				<ion-label>{{ round.resultCode | json }}</ion-label>
				<i class="far fa-2x" [ngClass]="'far fa-hand-' + round.machineActionCode | lowercase" slot="end"></i>
			</ion-item>
		</ion-list>
	</ng-container>
	<ng-template #inProgressTpt>
		<pre>{{game | json}}</pre>
	</ng-template>


</ion-content>
<ion-footer *ngIf="!game?.resultCode">
	<ion-toolbar>
		<ion-buttons>
			<ion-button *ngFor="let action of actions" (click)="play(action)">
				<i [ngClass]="action.image"></i>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-footer>
